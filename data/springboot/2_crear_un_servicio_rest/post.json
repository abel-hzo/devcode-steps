{
    "header_title": "Pasos para realizar un sistema en Spring Boot",
    "header_image": "/data/springboot/1_creacion_y_compilacion/resources/spring-boot.png",
    "title": "Crear un servicio REST",
    "author": "Ing. Abel HZO",
    "content": [
        {
            "subtitle": " Agregar dependencias",
            "text": "En el tutorial anterior ya hab铆amos agregado las dependencias para ejecutar Spring Boot. Como podemos observar, el archivo <b>pom.xml</b> nos ha quedado de la siguiente manera.<br><br>Con eso es m谩s que suficiente para poder crear un servicio REST con Spring Boot.",
            "code": {
                "path": "/data/springboot/2_crear_un_servicio_rest/resources/code1.markup.txt",
                "lang": "markup"
            }
        },
        {
            "subtitle": " Crear un servicio REST",
            "text": "Creamos un paquete llamado <b>com.abelhzo.aplicacion.controllers</b> donde crearemos nuestros servicios REST. El servicio REST que vamos a crear ser谩 en un archivo llamado <b>ProductController.java</b>, el cual contendr谩 las operaciones CRUD.<br><br>Para que nuestra clase funcione como servicio REST, tendremos que anotarla con <i>@RestController</i>, el cual Spring lo encontrar谩 a trav茅s del <i>@ComponentScan</i>.",
            "code": {
                "path": "/data/springboot/2_crear_un_servicio_rest/resources/code2.java.txt",
                "lang": "java"
            }
        },
        {
            "text": "Aqu铆 se muestra c贸mo se utiliza la anotaci贸n <i>@ComponentScan(basePackages = {\"com.abelhzo.aplicacion\"})</i>, la cual tiene como funci贸n escanear los paquetes y encontrar las clases anotadas, ya sea con <i>@RestController, @Service, @Component, @Configuration, @Repository</i>, etc. Y cargarlas al contexto de Spring.",
            "code": {
                "path": "/data/springboot/2_crear_un_servicio_rest/resources/code3.java.txt",
                "lang": "java"
            },
            "image": {
                "src": "/data/springboot/2_crear_un_servicio_rest/resources/image1.png",
                "maxwidth": "500px"
            }
        },
        {
            "subtitle": " Creando objetos POJO para servicio REST",
            "text": "Crearemos un objeto o POJO para poder transportar los datos a trav茅s del servicio REST.<br><br>Primero vamos a crear un paquete <b>com.abelhzo.aplicacion.dto</b>.<br><br>Desp煤es creamos una clase <b>CategoryDTO.java</b>, la cual contendr谩 todas las categor铆as de los productos.",
            "code": {
                "path": "/data/springboot/2_crear_un_servicio_rest/resources/code4.java.txt",
                "lang": "java"
            }
        },
        {
            "text": "Y tambi茅n una clase <b>ProductDTO.java</b> que contendr谩 la informaci贸n de producto.",
            "code": {
                "path": "/data/springboot/2_crear_un_servicio_rest/resources/code5.java.txt",
                "lang": "java"
            }
        },
        {
            "subtitle": " Llenado de objetos y guardarlos en un Map",
            "text": "Ahora llenaremos un mapa dentro del constructor del servicio REST, con los objetos DTO que creamos anteriormente.",
            "code": {
                "path": "/data/springboot/2_crear_un_servicio_rest/resources/code6.java.txt",
                "lang": "java"
            }
        },
        {
            "text": "Tambi茅n podemos observar que en el m茅todo <i>getAllProducts()</i> tenemos la anotaci贸n <i>@GetMapping(\"/lista\")</i>, la cual nos indica la URL para invocar ese m茅todo. De tal forma que con la anotaci贸n <i>@RequestMapping(\"/productos\")</i> damos un primer segmento a la URL, por lo cual la URL final ser铆a:<br><br><b>http://localhost:8080/products/getall</b>",
            "image": {
                "src": "/data/springboot/2_crear_un_servicio_rest/resources/image2.png",
                "maxwidth": "370px"
            }
        },
        {
            "subtitle": " Guardado de informacion (POST)",
            "text": "El siguiente paso es guardar informaci贸n en nuestro mapa, la cual simula una base de datos. Para esta operaci贸n se utiliza el m茅todo POST, el cual se indicar谩 con la anotaci贸n <i>@PostMapping(\"/save/json\")</i>.",
            "code": {
                "path": "/data/springboot/2_crear_un_servicio_rest/resources/code7.java.txt",
                "lang": "java"
            }
        },
        {
            "text": "Podremos hacer la prueba utilizando el comando CURL, aunque tambi茅n cabe mencionar que la anotaci贸n <i>@RequestBody</i> que se coloc贸 en el par谩metro nos indica que tenemos que pasar un objeto JSON que coincida con los nombres de los campos de los objetos.",
            "code": {
                "path": "/data/springboot/2_crear_un_servicio_rest/resources/code8.bash.txt",
                "lang": "bash"
            }
        },
        {
            "text": "Si no se coloca la anotaci贸n <i>@RequestBody</i> en el par谩metro, entonces el objeto se rellena de la forma form-data, la cual es el formato clave-valor.<br><br>Tambi茅n podemos observar que el m茅todo no nos regresa un <i>String</i> como lo ven铆amos manejando; Spring Boot cuenta con una clase para personalizar las respuestas de los servicios REST mediante <i>ResponseEntity</i>, al cual podemos agregar cabeceras, especificar el status y devolver informaci贸n.",
            "code": {
                "path": "/data/springboot/2_crear_un_servicio_rest/resources/code9.java.txt",
                "lang": "java"
            }
        },
        {
            "text": "Entonces, el llamado con el comando CURL lo cambiamos a la forma clave-valor; es importante tomar en cuenta este detalle, ya que definir谩 la manera en c贸mo lo llame el frontend.",
            "code": {
                "path": "/data/springboot/2_crear_un_servicio_rest/resources/code10.bash.txt",
                "lang": "bash"
            }
        },
        {
            "subtitle": " Modificando la informaci贸n (PUT)",
            "text": "Para modificar la informaci贸n, podemos utilizar la anotaci贸n <i>@PutMapping</i>, la cual nos indica que la petici贸n se har谩 con el m茅todo PUT, que por convenci贸n se帽ala la modificaci贸n de la informaci贸n.<br><br>En esta ocasi贸n no retornaremos un String, sino el objeto modificado.",
            "code": {
                "path": "/data/springboot/2_crear_un_servicio_rest/resources/code11.java.txt",
                "lang": "java"
            }
        },
        {
            "text": "Ejecutaremos nuestro CURL, pero ahora con la variaci贸n de que especificamos el m茅todo PUT en el comando.",
            "code": {
                "path": "/data/springboot/2_crear_un_servicio_rest/resources/code12.bash.txt",
                "lang": "bash"
            }
        },
        {
            "subtitle": " Obtener un producto",
            "text": "Ahora vamos a obtener un producto a partir de su <b>id</b> mediante el m茅todo GET; el par谩metro lo pasaremos mediante form-data.",
            "code": {
                "path": "/data/springboot/2_crear_un_servicio_rest/resources/code13.java.txt",
                "lang": "java"
            }
        },
        {
            "text": "La forma de obtenerlo ser谩 con el comando <b>CURL</b>, al cual solo pasaremos un solo par谩metro, el cual es el id del producto.",
            "code": {
                "path": "/data/springboot/2_crear_un_servicio_rest/resources/code14.bash.txt",
                "lang": "bash"
            }
        },
        {
            "subtitle": " Eliminar un producto",
            "text": "Por 煤ltimo, eliminaremos un producto. Para las eliminaciones se utiliza el m茅todo DELETE, pero en esta ocasi贸n pasaremos el id como parte de la URL; esto es posible mediante la anotaci贸n <i>@PathVariable</i>.",
            "code": {
                "path": "/data/springboot/2_crear_un_servicio_rest/resources/code15.java.txt",
                "lang": "java"
            }
        },
        {
            "text": "Por 煤ltimo, hacemos la prueba para la eliminaci贸n de un producto; como hemos usado la anotaci贸n <i>@PathVariable</i>, a la URL del comando CURL se anexar谩 la id en el segmento del path.",
            "code": {
                "path": "/data/springboot/2_crear_un_servicio_rest/resources/code16.bash.txt",
                "lang": "bash"
            }
        }
    ]
}